<!--
 * @Author: your name
 * @Date: 2020-03-29 11:52:50
 * @LastEditTime: 2020-03-30 18:06:59
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /backend-series/Golang/goroutine.md
 -->

### 协程与线程

- 多个协程可由一个或多个线程管理，协程的调度发生在其所在的线程中。
  
  多个协程可以运行在同一个线程里面。它们的调度不是线程的切换，而是**纯应用态的协程调度**。
- 可以被调度，调度策略由应用层代码定义，即可被高度自定义实现。
- 执行效率高，占用内存少。
  
  因为`协程的调度切换不是线程切换`，而是由程序自身控制，因此，没有线程切换的开销，和多线程比，线程数量越多，协程的性能优势就越明显。`调度发生在应用态而非内核态`。

  内存的花销，使用其所在的线程的内存，意味着线程的内存可以供多个协程使用。

  其次协程的调度`不需要多线程的锁机制`，因为只有一个线程，也`不存在同时写变量冲突`，所以执行效率比多线程高很多。

  ![](/Golang/goroutine&thread.png)
 


